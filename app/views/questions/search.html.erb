<h1>Search for question</h1>

<%= form_for :search_questions, url: search_questions_path, method: :get do |form| %>
  <%= form.text_field :query, value: params[:search_questions].presence && params[:search_questions][:query] %>
  <%= form.submit 'Search', class: 'btn btn-info'%>

<% end %>

<% unless @questions.nil? %>

  <% if @questions.empty? %>
    <h2>No questions found matching your query.</h2>
  <% else %>
    <h2>Search results</h2>

    <table style="width: 100%;">
      <thead>
         <tr>
           <th>Title</th>
           <th>Body</th>
         </tr>
      </thead>

      <tbody>
        <% @questions.each do |question| %>
          <tr>
            <td><%= question.title %></td>
            <td><%= question.body %></td> 
            <td><%= link_to 'View', question_path(question.id) %></td>
          </tr>
        <% end %>
      <tbody>
    </table>
  <% end %>
<% end %>